// https://atcoder.jp/contests/keyence2021/tasks/keyence2021_a

use std::cmp::max;

fn run(n: usize, a: Vec<usize>, b: Vec<usize>) -> Vec<usize> {
    let mut max_a = a[0];
    let mut ans = Vec::new();

    ans.push(a[0]*b[0]);

    for i in 1..n {
        max_a = max(max_a, a[i]);
        ans.push(max(ans[i-1], max_a*b[i]));
    }

    ans
}

#[cfg(test)]
mod tests {
    use super::*;

    struct TestCase(usize, Vec<usize>, Vec<usize>, Vec<usize>);

    #[test]
    fn test() {
        let tests = [
            TestCase(3, vec![3, 2, 20], vec![1, 4, 1], vec![3, 12, 20]),
            TestCase(20, vec![715806713, 926832846, 890153850, 433619693, 890169631, 501757984, 778692206, 816865414, 50442173, 522507343, 546693304, 851035714, 299040991, 474850872, 133255173, 905287070, 763360978, 327459319, 193289538, 140803416], vec![974365976, 488724815, 821047998, 371238977, 256373343, 218153590, 546189624, 322430037, 131351929, 768434809, 253508808, 935670831, 251537597, 834352123, 337485668, 272645651, 61421502, 439773410, 621070911, 578006919], vec![697457706539596888, 697457706539596888, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 760974252688942308, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026, 867210459214915026]),
        ];

        for TestCase(n, a, b, expected) in tests {
            assert_eq!(run(n, a, b), expected);
        }
    }
}
